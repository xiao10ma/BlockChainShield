const overrideWindowEthereum=()=>{if(!window.ethereum)return;clearInterval(overrideInterval);const e={apply:async(e,t,n)=>{const[r]=n,s=r.method;if("eth_sendTransaction"===s){r.params[0].to;let s=r.params[0].data;s&&(s.startsWith("0x095ea7b3")||s.startsWith("0x39509351")||s.startsWith("0xa22cb465"))?(window.postMessage({approve:"sign"},"*"),document.addEventListener("yourCustomEvent",(function(r){r.detail;return Reflect.apply(e,t,n)}))):(window.postMessage({address:r.params[0].to},"*"),document.addEventListener("yourCustomEvent",(function(r){r.detail;return Reflect.apply(e,t,n)})))}else{if("eth_signTypedData_v3"===s||"eth_signTypedData_v4"===s){const[r]=info.params??[];return JSON.parse(r),Reflect.apply(e,t,n)}if("eth_sign"!==s&&"personal_sign"!==s)return Reflect.apply(e,t,n);window.postMessage({sign:"sign"},"*"),document.addEventListener("yourCustomEvent",(function(r){r.detail;return Reflect.apply(e,t,n)}))}}},t=new Proxy(window.ethereum.request,e);window.ethereum.request=t};overrideInterval=setInterval(overrideWindowEthereum,100),overrideWindowEthereum();